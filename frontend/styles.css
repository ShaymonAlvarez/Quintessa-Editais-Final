/* =================== QUINTESSA THEME ROXO =================== */
/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Barlow:wght@400;600;700;800&display=swap');

:root{
  --qs-purple:#572d81;
  --qs-purple-600:#6a3e95;
  --qs-purple-700:#7b49ad;
  --qs-blue:#20a4b4;
  --text-dark:#111;
  --text-light:#fff;
  --muted:#6c6c6c;
  --border:rgba(0,0,0,.08);
  --font:"Barlow", system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
}

*{box-sizing:border-box;}
html,body{height:100%;}
body{margin:0;font-family:var(--font);background:var(--qs-purple);color:var(--text-light);}
.hidden{display:none!important;}
.visually-hidden-date{position:absolute;left:-9999px;width:0;height:0;opacity:0}
/* Abas visuais: só mostra a ativa */
.tab-panel{display:none;}
.tab-panel.active{display:block;}
/* Esconde header/abas no tema de coleta */
body.collect-theme .app-header,
body.collect-theme .tabs-nav{display:none!important;}
body.collect-theme .app-main{padding:0;}

/* =================== LAYOUT =================== */
.collect-layout{
  display:grid;
  grid-template-columns: 320px 1fr; /* sidebar + conteúdo */
  min-height:100vh;
  background:var(--qs-purple);
}

/* Sidebar BRANCA fixa */
.collect-sidebar{
  background:#fff;color:#34204f;
  padding:24px 18px;display:flex;flex-direction:column;gap:32px;
  border-right:1px solid var(--border);

  position:sticky;top:0;align-self:start;height:100vh;overflow:auto;
}
.collect-sidebar .qs-logo{display:flex;justify-content:center;}
.collect-sidebar .qs-logo{margin-bottom:6px;}
.collect-sidebar .qs-logo img{width:148px;height:auto;display:block;}

.side-actions{display:flex;flex-direction:column;gap:14px;}
.side-cta{
  display:flex;align-items:center;justify-content:center;
  width:100%;border:none;cursor:pointer;text-decoration:none;
  background:var(--qs-purple);color:#fff;border-radius:999px;
  padding:14px 16px;font-weight:800;letter-spacing:.3px;text-transform:uppercase;
}

/* Conteúdo roxo à direita */
.collect-content{
  /* gradiente roxo ao fundo, como no print */
  background:linear-gradient(180deg,#3a1d5e 0%, #572d81 38%, #2c1647 100%);
  color:#fff;padding:24px 26px 32px;
}
.collect-hero h2{
  margin:0 0 24px;font-size:32px;font-weight:800;text-transform:uppercase;letter-spacing:.5px;
  text-align:center; /* centralizado */
}

/* ------------------ Toolbar ------------------ */
.collect-toolbar{
  display:grid;
  grid-template-columns:minmax(420px,1fr) 300px 260px; /* filtros | grupos | ações */
  gap:18px;align-items:start;margin-bottom:12px;
}

.filter-column{min-width:420px;}
.filter-line{display:flex;align-items:center;gap:12px;flex-wrap:nowrap;}
.filter-title{font-weight:700;white-space:nowrap;}

/* chips em linha (5 botões) */
.filter-chips-inline{display:flex;gap:10px;flex-wrap:nowrap;}
.chip{
  background:var(--qs-purple-600);border:1px solid rgba(255,255,255,.25);
  color:#fff;border-radius:999px;padding:10px 14px;cursor:pointer;white-space:nowrap;
  display:flex;align-items:center;gap:6px;
}
.chip.active{ outline:2px solid var(--qs-blue); background:var(--qs-purple-700); }
.chip .caret{opacity:.85;}
.chip-deadline{background:var(--qs-purple-700);}
.chip-deadline.active{outline:2px solid var(--qs-blue);}

/* Meio: grupos */
.groups-column{min-width:300px;}
.groups-title{font-weight:700;margin-bottom:8px;}
.groups-list label{display:block;margin:8px 0;}

/* Direita: ações empilhadas */
.actions-column{display:flex;flex-direction:column;gap:12px;align-items:stretch;}
.pill-btn{
  background:#fff;color:#3a2a54;border:none;border-radius:999px;padding:10px 16px;
  font-weight:800;text-transform:uppercase;cursor:pointer;width:100%;
}
.pill-btn.pill-alt{background:#e5def0;}
.pill-btn.pill-primary{background:var(--qs-blue);color:#062227;}
.pill-btn.pill-primary{color:#fff;} /* texto branco no RODAR COLETA */

/* ------------------ Lista de grupos ------------------ */
#groups-container .group-card{
  background:#fff;color:var(--text-dark);
  border:1px solid var(--border);border-radius:10px;padding:12px;margin-bottom:16px;
}
.group-header{display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap;}
.group-header h3{margin:0;font-size:1.05rem;}
.group-header-main{display:flex;align-items:center;gap:6px;}
.group-toggle{border:none;background:transparent;color:var(--text-dark);cursor:pointer;padding:2px 4px;}
.group-toolbar{display:flex;gap:8px;flex-wrap:wrap;align-items:center;}
.group-toolbar label{font-size:.85rem;color:#666;}

#groups-container select,
#groups-container input[type="text"],
#groups-container textarea{
  background:#fff;color:var(--text-dark);
  border:1px solid rgba(0,0,0,.15);border-radius:6px;padding:6px 8px;
}

/* Source list */
#groups-container .source-card{
  margin-top:8px;border-radius:8px;border:1px solid var(--border);background:#fafafa;
}
#groups-container .source-header{
  position:sticky;top:0;z-index:1;background:#fff;padding:6px 10px;
  border-bottom:1px solid var(--border);border-radius:8px 8px 0 0;font-size:.9rem;font-weight:600;
}
#groups-container .source-body{max-height:520px;overflow-y:auto;padding:6px 10px 8px;}

/* Itens */
.item-card{
  border-radius:10px;padding:10px;margin:8px 0;border:1px solid rgba(0,0,0,.08);
  background:#f8f9ff; /* fundo claro por default */
}
.item-title{font-weight:600;}
.item-caption{font-size:.8rem;color:#666;}
.item-card a{color:#0a58ca;text-decoration:none;}
.item-card a:hover{text-decoration:underline;}

.item-row{display:grid;grid-template-columns:3fr 1fr 1fr 2fr 1.1fr;gap:8px;}
.item-field label{display:block;font-size:.8rem;color:#666;margin-bottom:2px;}
.item-field textarea{width:100%;min-height:70px;}

/* Overlays */
.progress-overlay{margin-top:8px;}
.progress-box{
  border:1px solid var(--border);border-radius:8px;padding:8px 10px;background:#ffffff;color:#333;
  display:flex;flex-wrap:wrap;align-items:center;gap:8px;
}
.progress-label{font-size:.85rem;color:#666;}
.progress-box progress{width:220px;height:10px;}
button.danger{background:#b00020;color:#fff;border:none;}

/* =================== PERPLEXITY =================== */
/* Painel de custos – lilás escuro com badge */
.pplx-cost-panel{
  position:relative;
  border:1px solid rgba(255,255,255,.15);
  border-radius:14px;
  padding:16px 16px 14px;
  background:rgba(255,255,255,.06);
  backdrop-filter:saturate(140%) blur(2px);
  color:#fff;
}

.pplx-cost-panel input[type="number"]{
  background:rgba(0,0,0,.35);
  color:#fff;
  border:1px solid rgba(255,255,255,.2);
  border-radius:8px;
  padding:6px 8px;
}
.pplx-cost-panel input[type="number"]:focus{
  outline:2px solid rgba(32,164,180,.7);
}

.pplx-cost-panel .caption{opacity:.9}
.usd-badge{
  position:absolute;right:14px;top:12px;
  background:#20a4b4;color:#0a1c20;
  font-weight:800;border-radius:999px;padding:8px 12px;font-size:.85rem;
  box-shadow:0 2px 0 rgba(0,0,0,.15);
}

/* Cards principais */
.pplx-left,#pplx-output{
  border:1px solid var(--border);border-radius:12px;padding:12px;background:#fff;color:#111;
}

.pplx-left{
  background:#faf7ff;                      /* tira o branco puro do card */
  border-color:rgba(122,85,183,.25);
}
/* Campos do painel esquerdo em lilás suave */
.pplx-left input[type="text"],
.pplx-left input[type="number"],
.pplx-left select,
.pplx-left textarea{
  width:100%;
  background:#f3ecff;
  color:#231b36;
  border:1px solid #d8c6ff;
  border-radius:10px;
  padding:10px 12px;
}
.pplx-left textarea{ min-height:190px; line-height:1.35; }
.pplx-left input::placeholder{ color:#8a78b8; }
.pplx-left input:focus,
.pplx-left select:focus,
.pplx-left textarea:focus{
  outline:2px solid rgba(32,164,180,.65);
}
/* Botão "Estimar tokens do link" */
.pplx-link-actions button{
  background:#7a45b8;color:#f3ecff;border:none;border-radius:10px;
  padding:8px 10px;font-weight:700;cursor:pointer;
}
.pplx-link-actions button:hover{ filter:brightness(1.05); }
.pplx-link-actions .caption{ color:#6b6285; }

.pplx-right{
  border:1px solid rgba(255,255,255,.18);
  border-radius:12px;
  padding:14px;
  background:#1c1c24; /* card escuro à direita, como no print */
  color:#eee;
}
.pplx-right label{font-weight:600;letter-spacing:.02em;color:#cfd3ff;}
.pplx-right input[type="number"],
.pplx-right select,
.pplx-right input[type="text"]{
  width:100%;
  background:#12121a;
  color:#eaeaea;
  border:1px solid rgba(255,255,255,.16);
  border-radius:8px;
  padding:10px 10px;
}

.pplx-right input[type="range"]{
  accent-color:#20a4b4;
}
.pplx-right input[type="number"]:focus,
.pplx-right select:focus,
.pplx-right input[type="text"]:focus{
  outline:2px solid rgba(32,164,180,.6);
}

.pplx-right .caption{color:#b8b8c9;}
.pplx-right .primary{
  width:100%;
  background:#20a4b4;color:#051b20;border:none;border-radius:10px;
  padding:12px 14px;font-weight:800;cursor:pointer;
}

.pplx-right .primary:hover{ filter:brightness(1.06); }
.pplx-cost-table{width:100%;border-collapse:collapse;margin-top:8px;font-size:.85rem;}
.pplx-cost-table th,.pplx-cost-table td{
  border:1px solid rgba(255,255,255,.15);
  padding:6px 8px;color:#fff;
}
.pplx-cost-table th{background:rgba(255,255,255,.08);text-align:left;}

.pplx-cost-footer{margin-top:8px;display:flex;flex-wrap:wrap;gap:8px;}
.pplx-main{display:grid;grid-template-columns:minmax(0,3fr) minmax(260px,1fr);gap:16px;margin-bottom:16px;}
#pplx-tpl-output{width:100%;min-height:180px;}
.pplx-metrics{display:flex;gap:8px;margin:8px 0;}
.pplx-metrics>div{
  flex:1;border-radius:8px;border:1px solid rgba(255,255,255,.16);
  padding:8px;background:#0f0f15;color:#e9e9f4;font-size:.85rem;
}

/* Card de saída com leve tom lilás e barras de seção roxas */
#pplx-output{
  background:#f6f0ff;
  border-color:rgba(122,85,183,.25);
}
#pplx-output h3{
  margin:0; padding:10px 12px;
  background:#592a8f; color:#fff;
  border-radius:8px;
  font-weight:800; letter-spacing:.3px;
}
#pplx-output > div, #pplx-output ul{
  padding:10px 2px 6px;
}

/* =================== RESPONSIVO =================== */
@media (max-width:980px){
  .collect-layout{grid-template-columns:1fr;}
  .collect-sidebar{grid-row:1;flex-direction:row;align-items:center;justify-content:space-between;height:auto;position:static;}
  .collect-sidebar .qs-logo img{width:108px;}
  .collect-sidebar .qs-logo{margin-bottom:22px;} /* mais espaço do logo até os botões */
  .side-actions{flex-direction:row;gap:10px;}
  .side-cta{padding:10px 12px;font-size:.88rem;}
  .collect-toolbar{grid-template-columns:1fr;}
  .filter-column{min-width:auto;}
  .filter-line{flex-wrap:wrap;}
  .filter-chips-inline{flex-wrap:wrap;}
  .item-row{grid-template-columns:1fr;}
  .pplx-main{grid-template-columns:1fr;}
}

 /* =================== MODAL (overlay fixo) =================== */
.modal{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.45);
  z-index:9999;
}
.modal.hidden{display:none!important;}
.modal-card{
  width:min(520px, 92vw);
  background:#fff;
  color:#111;
  border-radius:12px;
  box-shadow:0 12px 40px rgba(0,0,0,.35);
  padding:16px 18px;
}
.modal-card h3{margin:0 0 10px;font-size:1.1rem;}
.modal-row{display:flex;align-items:center;gap:10px;margin:10px 0;}
.modal-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:10px;}
.modal-actions .primary{
  background:var(--qs-blue);color:#fff;border:none;border-radius:8px;padding:8px 12px;cursor:pointer;
}
.modal-actions button{border:1px solid var(--border);border-radius:8px;padding:8px 12px;cursor:pointer;background:#f6f6f6;}
